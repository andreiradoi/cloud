#!/bin/bash

function rock_block() {
    DATA=$1
    HEX=`echo -n $DATA | xxd -p -c 2048`
    MESSAGE="device_type=ROCKBLOCK&serial=11380&momsn=1086&transmit_time=17-08-06+12%3A01%3A14&imei=300234065114240&iridium_latitude=-12.7071&iridium_longitude=15.5300&iridium_cep=302&data=$HEX"
    curl -H "Content-Type: application/x-www-form-urlencoded; charset=UTF-8" -X POST -d $MESSAGE http://127.0.0.1:8080/messages/ingestion
}

function particle() {
    MESSAGE="event=gps&data=4.02%2C97.82%2C41.305797%2C-72.926187%2C16.200000%2C8%2C108%2C1&published_at=2017-01-13T15%3A19%3A43.278Z&coreid=200051000e51353432393339"
    curl -H "Content-Type: application/x-www-form-urlencoded; charset=UTF-8" -X POST -d $MESSAGE http://127.0.0.1:8080/messages/ingestion
}

rock_block "05a463d9-1c9c-4810-b3a7-8cc1c9452e89"
rock_block "1498952704,BU,LO,3955.00,70.77,-19.795938,23.326277,933.20,165"
rock_block "1498966290,BU,ST,3910.00,64.99,1,1,0,20004864,0,2,10,0,0,0,21.85,600000,10000,10000,60000,58000,116000,120000,24,24,0,24,2,24,362"
rock_block "1498988335,BU,ST,4036.25,80.75,1,1,0,20004864,0,0,9,0,0,0,0.00,600000,10000,10000,60000,58000,116000,120000,24,24,0,24,2,24,362"
rock_block "1499010048,BU,ST,4051.25,87.21,1,1,0,20004864,1,0,9,0,0,0,76.78,600000,10000,10000,60000,58000,116000,120000,24,24,0,24,2,24,363"
rock_block "1499009971,BU,ST,4062.50,87.35,1,1,0,20004864,0,0,9,0,0,0,0.00,600000,10000,10000,60000,58000,116000,120000,24,24,0,24,2,24,362"
rock_block "1499032172,BU,ST,3960.00,73.56,1,1,0,20004864,0,0,9,0,0,0,0.00,600000,10000,10000,60000,58000,116000,120000,24,24,0,24,2,24,362"
rock_block "1499032227,BU,WE,3953.75,72.09,72.58,14.80,62.30,91274.25,0.00,1.00,2.80,90.00,0.00"
